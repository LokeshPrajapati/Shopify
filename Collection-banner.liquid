{{ 'component-collection-hero.css' | asset_url | stylesheet_tag }}

<div class="collection-hero{% if section.settings.show_collection_image and collection.image %}{% endif %}">
  {% if collection.metafields["global"]["Collection-Image"].value == blank and collection.metafields["global"]["Collection-Content"].value == blank %}
      {%- if section.settings.show_collection_image and collection.image -%}
        <div class="collection-hero__image-container media">
          {%if section.settings.collectiom_img != blank %}
          <img class="collection__img"
            srcset="{%- if collection.image.width >= 165 -%}{{ collection.image | img_url: '165x' }} 165w,{%- endif -%}
              {%- if collection.image.width >= 360 -%}{{ collection.image | img_url: '360x' }} 360w,{%- endif -%}
              {%- if collection.image.width >= 535 -%}{{ collection.image | img_url: '535x' }} 535w,{%- endif -%}
              {%- if collection.image.width >= 750 -%}{{ collection.image | img_url: '750x' }} 750w,{%- endif -%}
              {%- if collection.image.width >= 1070 -%}{{ collection.image | img_url: '1070x' }} 1070w,{%- endif -%}
              {%- if collection.image.width >= 1500 -%}{{ collection.image | img_url: '1500x' }} 1500w,{%- endif -%}"
            src="{{ section.settings.collectiom_img | img_url: 'master' }}"
            sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 100 | divided_by: 2 }}px, (min-width: 750px) calc(50vw - 130px), calc(50vw - 55px)"
            alt="{{ collection.title | escape }}"
            loading="lazy"
            width="{{ collection.image.width }}"
            height="{{ collection.image.height }}"
          >
          {% else %}
          <img class="collection__img"
            srcset="{%- if collection.image.width >= 165 -%}{{ collection.image | img_url: '165x' }} 165w,{%- endif -%}
              {%- if collection.image.width >= 360 -%}{{ collection.image | img_url: '360x' }} 360w,{%- endif -%}
              {%- if collection.image.width >= 535 -%}{{ collection.image | img_url: '535x' }} 535w,{%- endif -%}
              {%- if collection.image.width >= 750 -%}{{ collection.image | img_url: '750x' }} 750w,{%- endif -%}
              {%- if collection.image.width >= 1070 -%}{{ collection.image | img_url: '1070x' }} 1070w,{%- endif -%}
              {%- if collection.image.width >= 1500 -%}{{ collection.image | img_url: '1500x' }} 1500w,{%- endif -%}"
            src="{{ collection.image | img_url: '750x' }}"
            sizes="(min-width: {{ settings.page_width }}px) {{ settings.page_width | minus: 100 | divided_by: 2 }}px, (min-width: 750px) calc(50vw - 130px), calc(50vw - 55px)"
            alt="{{ collection.title | escape }}"
            loading="lazy"
            width="{{ collection.image.width }}"
            height="{{ collection.image.height }}"
          >
          {%endif%}
        </div>
      {%- endif -%}
  {% else %}
  		<div class="collection-hero">
          <div class="collection-banner-container">
            <div class="medium-up--one-half small-one-whole inner_collection-banner-container small-padding">
              <div class="collection--text">
                {% if collection.metafields["global"]["Collection-Content"].value != blank%}
                    {{ collection.metafields["global"]["Collection-Content"].value }}
                {%endif%}
              </div>
            </div>
            <div class="medium-up--one-half small-one-whole inner_collection-banner-container">
              <div class="collection-img-container">
                {% if collection.metafields["global"]["Collection-Image"].value != blank %}
                    <img src="{{ collection.metafields["global"]["Collection-Image"].value }}" loading="lazy"/>
                {%endif%}
              </div>
            </div>
          </div>
        </div>
  {% endif %}
  <div class="collection-hero__inner page-width">
    {% include 'breadcrumbs'%}
    <div class="collection-hero__text-wrapper">
      
      <div class="collection-details-container">
        <div class="inner-collection-container">
          {%comment%}
          {% for block in section.blocks %}
          <div class="inline-container">
            {% if block.settings.collection_url != blank %}
              <a href="{{block.settings.collection_url}}" >  
                <div class="detail-container">
                  {% if block.settings.heading != blank %}
                  <h5 class="collection--heading">{{block.settings.heading}}</h5>
                  {% endif%}
                  {% if block.settings.text != blank %}
                  <p class="collection--heading">{{block.settings.text}}</p>
                  {% endif%}
                </div>
              </a>
            {%endif%}
          </div>
          {%endfor%}
          {%endcomment%}
          
          {% if collection.metafields["global"]["Collection-Link-Short-Details1"].value != blank %}
          <div class="inline-container">
            <a href="{{collection.metafields["global"]["Collection-Link-Short-Details1"].value | remove : '<p>' | remove : '</p>'}}">
            	{{ collection.metafields["global"]["Collection-Short-Details1"].value }}
            </a>
          </div>
          {% endif %}
          
          {% if collection.metafields["global"]["Collection-Link-Short-Details2"].value != blank %}
          <div class="inline-container">
            <a href="{{collection.metafields["global"]["Collection-Link-Short-Details2"].value | remove : '<p>' | remove : '</p>'}}">
            	{{ collection.metafields["global"]["Collection-Short-Details2"].value }}
            </a>
          </div>
          {% endif %}
          
          {% if collection.metafields["global"]["Collection-Link-Short-Details3"].value != blank %}
          <div class="inline-container">
            <a href="{{collection.metafields["global"]["Collection-Link-Short-Details3"].value | remove : '<p>' | remove : '</p>'}}">
            	{{ collection.metafields["global"]["Collection-Short-Details3"].value }}
            </a>
          </div>
          {%endif%}
          
          {% if collection.metafields["global"]["Collection-Link-Short-Details4"].value != blank %}
          <div class="inline-container">
            <a href="{{collection.metafields["global"]["Collection-Link-Short-Details4"].value | remove : '<p>' | remove : '</p>'}}">
            	{{ collection.metafields["global"]["Collection-Short-Details4"].value }}
            </a>
          </div>
          {%endif%}
        </div>
      </div>
      
      <div class="collection page-width collection-filters" id="main-collection-filters" data-id="{{ section.id }}">
        <div class="boost-pfs-filter-wrapper-page facets">
          <h1 class="collection-hero__title collection--title {% if section.settings.text_alignment != blank%} {{section.settings.text_alignment}} {% endif %}">
              <span class="visually-hidden">{{ 'sections.collection_template.title' | t }}: </span>
              {{- collection.title | escape -}}
            </h1>

          {%- comment -%} TOOLBAR TOP MOBILE {%- endcomment -%}
		
          {% if section.settings.show_filter %}
          
          <div class="facets__form">
            <div class="facets__wrapper"></div>
            <div class="collection-filters__item sorting">
              <div class="collection-filters__field">
                <label class="collection-filters__label" for="SortBy">{{"sections.collection_template.sort_by_label" | t }}</label>
                <div class="select boost-pfs-filter-custom-sorting boost-pfs-filter-top-sorting">
                  {%- render 'boost-pfs-filter-skeleton' -%}
                </div>
              </div>
            </div>
            <div class="collection-product-count light" role="status">
              <p id="CollectionProductCountDesktop" class="collection-product-count__text boost-pfs-filter-total-product">
                {%- if collection.products_count == collection.all_products_count -%}
                {{ 'sections.collection_template.product_count_simple' | t: count: collection.products_count }}
                {%- else -%}
                {{ 'sections.collection_template.product_count' | t: product_count: collection.products_count, count: collection.all_products_count }}
                {%- endif -%}
              </p>
            </div>
          </div>
          
          {% endif %}

          {%- comment -%} END TOOLBAR TOP MOBILE {%- endcomment -%}
        </div>
      </div> 
      

      {%- if section.settings.show_collection_description -%}
        <div class="collection-hero__description rte">{{ collection.description }}</div>
      {%- endif -%}
    </div>
    
    {% if section.settings.show_filter %}
    <div class="boost-pfs-filter-mobile-container">
      <div class="boost-pfs-filter-toolbar-top-mobile">
        <div class="boost-pfs-filter-tree-mobile-button">
          {%- render 'boost-pfs-filter-skeleton', type: 'button' -%}
        </div>
      </div>    
      <div class='boost-pfs-filter-refine-by-wrapper-h'></div>
    </div>
    {% endif %}
  </div>
</div>

{% schema %}
{
  "name": "t:sections.main-collection-banner.name",
  "class": "spaced-section spaced-section--full-width",
  "settings": [
    {
		"type" : "checkbox",
		"id" : "show_filter",
		"label" : "Hide Filter Bar",
		"default" : true
	},
	{
      "type": "paragraph",
      "content": "t:sections.main-collection-banner.settings.paragraph.content"
    },
    {
      "type": "checkbox",
      "id": "show_collection_description",
      "default": false,
      "label": "t:sections.main-collection-banner.settings.show_collection_description.label"
    },
    {
      "type": "checkbox",
      "id": "show_collection_image",
      "default": false,
      "label": "t:sections.main-collection-banner.settings.show_collection_image.label",
      "info": "t:sections.main-collection-banner.settings.show_collection_image.info"
    },
	{
		"type" : "image_picker",
		"id" : "collectiom_img",
		"label" : "Collection Image"
	},
	{
		"type" : "select",
		"id" : "text_alignment",
		"label" : "Text Alignment",
		"default" : "text-left",
		"options" : [
			{
				"value" : "text-left",
				"label" : "Left"
			},
			{
				"value" : "text-center",
				"label" : "Center"
			},
			{
				"value" : "text-right",
				"label" : "Right"
			}
		]
	}
  ],
  "blocks" :[
		{
			"name"  : "Collection Details",
			"type" : "text",
			"settings" : [
				{
					"type" : "url",
					"id" : "collection_url",
					"label" : "Collection Url"
				},
				{
					"type" : "text",
					"id" : "heading",
					"label" : "Heading"
				},
				{
					"type" : "text",
					"id" : "text",
					"label" : "Short Description"
				}
			]
		}
	]
}
{% endschema %}
